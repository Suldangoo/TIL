# Chapter 05 : CPU 성능 향상 기법

## 빠른 CPU를 위한 설계 기법

### 클럭
- 클럭이란 컴퓨터의 부품들이 일정하게 움직일 수 있도록 하는 일종의 박자 역할이다.
- 만약 클럭 속도가 높아지면, CPU는 명령어 사이클을 더 빠르게 반복하여 속도가 향상될 것.
- **클럭 속도**는 헤르츠(Hz)단위로 측정한다. 이는 1초에 클럭이 몇 번 반복되는지를 나타낸다.
  - 우리가 요즘 쓰는 CPU엔 2.5GHz정도가 적혀있는데, 이는 1초에 클럭이 25억번 반복된다는 것을 나타낸다.
  - 그러나 클럭 속도는 절대 일정하지 않다. 기본 속도와 최대 속도 사이에서 고성능을 요할 때 클럭 속도가 높아질 수 있다.
  - 최대 클럭 속도를 강제로 더 끌어올리는 기법을 **오버클럭킹(Overclocking)**이라고 한다.
- 클럭 속도를 무작정 높이면 발열 문제가 생기기 때문에, 클럭 속도만으론 CPU의 성능을 올리기에 한계가 있다.

### 코어와 멀티코어
- CPU의 정의로 알고 있던 '명령어를 실행하는 부품'은 오늘날 **코어**라는 용어로 사용된다.
- 즉, 여러 개의 코어를 지닌 CPU는 '명령어를 실행하는 부품을 여러 개 포함하는 부품'으로 명칭의 범위가 확대되었다.
- 코어를 여러 개 포함하고 있는 CPU를 **멀티코어 CPU** 또는 **멀티코어 프로세서**라고 한다.
- 코어의 개수에 따라 싱글코어, 듀얼코어, 쿼드코어, 옥타코어 등의 명칭이 붙는다.
- 그러나 무작정 코어가 많다고 속도가 그 수만큼 빨라지진 않는다.

### 스레드와 멀티스레드
- **스레드(thread)**의 사전적 의미는 '실행 흐름의 단위'이다.
- 스레드에는 CPU에서 사용되는 **하드웨어적 스레드**가 있고, 프로그램에서 사용되는 **소프트웨어적 스레드**가 있다.
- **하드웨어적 스레드**
  - 하나의 코어가 동시에 처리하는 명령어 단위를 의미한다.
  - 여러 스레드를 지원하는 CPU는, 하나의 코어로도 여러 개의 명령어를 동시에 실행할 수 있다.
  - 예를 들어 2코어 4스레드의 CPU는 한 번에 네 개의 명령어를 처리할 수 있다.
  - 즉, 하나의 코어로 여러 명령어를 동시에 처리하는 CPU를 **멀티스레드 프로세서** 또는 **멀티스레드 CPU**라고 한다.
  - 인텔의 멀티스레드 기술명으로 **하이퍼스레딩**이라는 용어도 존재한다.
- **소프트웨어적 스레드**
  - 하나의 프로그램에서 독립적으로 실행되는 단위를 의미한다.
  - 프로그래밍 언어나 운영체제를 학습할 때 접하는 스레드는 일반적으로 소프트웨어적으로 정의된 스레드를 의미한다.
  - 소프트웨어 하나가 동시에 각각의 기능이 수행될 수 있도록 하는 것.
- **멀티스레드 프로세서**
  - 멀티스레드 프로세서를 실제로 설계하는 것은 매우 복잡하지만, 핵심은 레지스터에 있다.
  - 하나의 코어로 여러 명령어를 동시에 처리하도록 하려면 PC, SP, MAR, MBR과 같은 필수 레지스터가 여러 개 있으면 된다.
  - 한 번에 하나의 명령어를 처리하는 CPU가 여러 개 있는 것처럼도 보여, 하드웨어 스레드를 **논리 프로세서**라고 부르기도 한다.