# 🎮 렌더링 파이프라인(Rendering Pipeline)

## 1. 씬과 화면의 차이

게임 속 오브젝트들은 3D 공간에 배치되지만, 실제로 출력되는 화면은 평면(2D)이다.  
그래픽카드는 이 3D 정보를 해석해서 2D 화면에 출력하는데, 이 과정을 **렌더링 파이프라인(Rendering Pipeline)** 이라고 한다.

---

## 2. 유니티 기준 렌더링 파이프라인 단계

유니티 엔진에서는 렌더링 파이프라인을 3단계로 정리하고 있다.

1. **컬링(Culling)**  
2. **렌더링(Rendering)**  
3. **포스트 프로세싱(Post Processing)**  

> 참고: 실제 그래픽스 내부에서는 더 많은 과정이 포함된다. 유니티 문서에서도 단순화를 위해 3단계로 구분했을 뿐이다.

---

## 3. 컬링(Culling)

컬링은 **"화면에 안 보이는 건 그리지 않는다"**는 최적화 기법이다.  
주요 종류는 아래와 같다:

| 종류 | 설명 |
| --- | --- |
| 프러스텀 컬링 (Frustum Culling) | 카메라 시야 밖의 오브젝트는 제외 |
| 오클루전 컬링 (Occlusion Culling) | 다른 오브젝트에 가려진 오브젝트는 제외 |
| 백페이스 컬링 (Back-Face Culling) | 삼각형의 뒷면은 그리지 않음 |

> 유니티는 프러스텀 컬링을 자동으로 처리하며, 나머지 컬링도 설정 가능하다.

---

## 4. 렌더링(Rendering)

렌더링은 모델을 **화면에 실제로 그리는 작업**이다.

### 렌더링 파이프라인 세부 단계

1. **Draw Call 생성**  
   - 어떤 오브젝트를 어떤 순서로 그릴지 결정한다.

2. **쉐이더 실행 (Shader)**  
   - GPU에서 동작하는 작은 프로그램.
   - 예: 버텍스 쉐이더, 프래그먼트 쉐이더 등.
   - 머티리얼과 연결되어 표면 질감/빛 표현 등 처리.

3. **라이팅, 섀도우 처리**  
   - 라이트, 섀도우 맵, 그림자 계산 등이 포함된다.

---

## 5. 포스트 프로세싱(Post Processing)

렌더링된 이미지에 **후처리 효과**를 적용하는 단계.  
단순히 "화면을 예쁘게" 만드는 게 아니라, 현실감이나 연출 효과를 추가한다.

### 주요 기술

| 기법 | 설명 |
| --- | --- |
| 안티앨리어싱 | 계단현상 제거 (MSAA, FXAA 등) |
| 앰비언트 오클루전 (AO) | 그림자 감쇠 효과로 입체감 강화 |
| 피사계 심도 | DSLR처럼 초점 조절 효과 |
| 모션 블러 | 움직임이 빠를 때 잔상 처리 |
| 블룸 & 이미시브 | 밝은 빛이 번지는 광학 효과 |

---

## 6. 유니티의 렌더링 파이프라인 종류

| 파이프라인 | 특징 | 장점 | 단점 | 추천 |
| --- | --- | --- | --- | --- |
| Built-in | 기본 파이프라인 | 문서 많음, 간단함 | 최신 기능 한계 | 빠른 프로토타이핑, 소규모 |
| URP | 경량 SRP | 다양한 플랫폼, 최적화 | 화질 제한 | 모바일, 콘솔 |
| HDRP | 고사양 SRP | 고급 조명/리플렉션 | 성능 부담 | AAA, 고사양 PC/콘솔 |

> **SRP (Scriptable Render Pipeline)** 를 통해 원하는 렌더링 구조를 직접 구현할 수도 있다.

---

## 7. 마무리

이번 포스팅에서는 렌더링 파이프라인의 큰 흐름을 정리했다.  
추후에는 각 단계의 이론(예: 폴리곤, 쉐이딩, 버퍼 등)과 OpenGL 기반의 저수준 그래픽스 표현도 더 깊이 다룰 예정!

---