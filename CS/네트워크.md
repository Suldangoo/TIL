# 네트워크

## ■ 교환 방식의 발전

- 네트워크의 시작과 끝은 **패킷(Packet)**, 네트워크의 전부라 봐도 무관
- 패킷 : 네트워크에서 데이터가 이동하는 단위, 데이터의 덩어리

- 네트워크의 정의 : 하나의 시스템에서 다른 시스템으로 데이터를 전송하는 시스템
- 최초의 네트워크
    - 최초의 네트워크는 **모스부호**
    - 제작자 새뮤얼 모스가 1837년에 한 컴퓨터에서 다른 컴퓨터로 의미있는 전기신호를 보냄
    - 그러나 이것은 매우 1차원적이며, 1대1 통신이다
- 조금 복잡한 네트워크
    - 벨이 전화기를 만들고, 좀 발전하여 전화망이 구축
    - 이 때부터 N대N (다대다) 통신의 시작
    - 1900년대 초반에 **회선 교환 방식**의 탄생
        - 회선 교환 방식 : A부터 B까지 가는 루트 및 전용선이 확실히 정해지고, 다른 길로 가지 않음. 단점으로는 해당 경로를 둘이 독점하게 되며, 도중에 장비가 고장나게 되면 그 이전까지 있던 데이터들이 유실이 나게 됨
        - 그래서 이러한 단점을 극복하기 위해 패킷 교환 방식이 탄생
- 현대의 컴퓨터 네트워크
    - 회선 교환 방식을 사용하지 않고, **패킷 교환 방식**을 사용함
        - 패킷 교환 방식 : 보내고자 하는 데이터를 잘게 쪼갠 후 순서를 정하고(이 작은 조각 단위가 패킷), 한 경로만 쓰는 것이 아닌 패킷들이 장비별로 최선의 선택을 하며 경로를 그때그때 찾아서 목적지까지 도달함. 이러면 경로를 독점하지도 않고, 도중에 장비가 고장나도 다른 경로를 찾아가는 능력이 생김
        - 이는 유튜브로 영상을 보던 중에 네트워크가 끊키면, 버퍼링으로 기다리고 있다가 다른 네트워크에 연결을 하면 이어서 볼 수 있는 것과 같은 원리
    - 덕분에 네트워크 장비에 이상이 생겨도 데이터가 유실되지 않고 회선의 낭비가 적어 인터넷이 탄생하게 되었다
    - 인터넷과 더불어 웹(Web)이 탄생하게 됨
        - 웹은 인터넷을 기반으로 연구소의 연구원 버너스 리가 만들어낸 기술
        - 웹이 있기 전까진 인터넷으로 논문을 달라고 요청을 한 후 데이터를 받아서 읽었음
        - 논문을 읽는 도중에 텍스트 안에서 다른 논문을 바로 볼 수는 없을까? → 하여 새로운 문서 해석 방식이 만들어졌고, 이것이 HTML 프로토콜
        - 그래서 HTML에서 다른 문서에 이어져있고, 이어져있고 한 것이 거미줄처럼 생겨있어서 웹(Web)이라고 이름짓게 됨
        - 이것이 전세계적으로 커진 것이 WWW(World Wide Web)

## 교환 방식의 발전 witch 신윤섭

- 네트워크의 시작과 끝은 **패킷(Packet)**, 네트워크의 전부라 봐도 무관
- 패킷 : 네트워크에서 데이터가 이동하는 단위, 데이터의 덩어리

- 네트워크의 정의 : 하나의 시스템에서 다른 시스템으로 데이터를 전송하는 시스템
- 최초의 네트워크
    - 최초의 네트워크는 **모스부호**
    - 제작자 새뮤얼 모스가 1837년에 한 컴퓨터에서 다른 컴퓨터로 의미있는 전기신호를 보냄
    - 그러나 이것은 매우 1차원적이며, 1대1 통신이다
- 조금 복잡한 네트워크
    - 벨이 전화기를 만들고, 좀 발전하여 전화망이 구축
    - 이 때부터 N대N (다대다) 통신의 시작
    - 1900년대 초반에 **회선 교환 방식**의 탄생
        - 회선 교환 방식 : A부터 B까지 가는 루트 및 전용선이 확실히 정해지고, 다른 길로 가지 않음. 단점으로는 해당 경로를 둘이 독점하게 되며, 도중에 장비가 고장나게 되면 그 이전까지 있던 데이터들이 유실이 나게 됨
        - 그래서 이러한 단점을 극복하기 위해 패킷 교환 방식이 탄생
- 현대의 컴퓨터 네트워크
    - 회선 교환 방식을 사용하지 않고, **패킷 교환 방식**을 사용함
        - 패킷 교환 방식 : 보내고자 하는 데이터를 잘게 쪼갠 후 순서를 정하고(이 작은 조각 단위가 패킷), 한 경로만 쓰는 것이 아닌 패킷들이 장비별로 최선의 선택을 하며 경로를 그때그때 찾아서 목적지까지 도달함. 이러면 경로를 독점하지도 않고, 도중에 장비가 고장나도 다른 경로를 찾아가는 능력이 생김
        - 이는 유튜브로 영상을 보던 중에 네트워크가 끊키면, 버퍼링으로 기다리고 있다가 다른 네트워크에 연결을 하면 이어서 볼 수 있는 것과 같은 원리
    - 덕분에 네트워크 장비에 이상이 생겨도 데이터가 유실되지 않고 회선의 낭비가 적어 인터넷이 탄생하게 되었다
    - 인터넷과 더불어 웹(Web)이 탄생하게 됨
        - 웹은 인터넷을 기반으로 연구소의 연구원 버너스 리가 만들어낸 기술
        - 웹이 있기 전까진 인터넷으로 논문을 달라고 요청을 한 후 데이터를 받아서 읽었음
        - 논문을 읽는 도중에 텍스트 안에서 다른 논문을 바로 볼 수는 없을까? → 하여 새로운 문서 해석 방식이 만들어졌고, 이것이 HTML 프로토콜
        - 그래서 HTML에서 다른 문서에 이어져있고, 이어져있고 한 것이 거미줄처럼 생겨있어서 웹(Web)이라고 이름짓게 됨
        - 이것이 전세계적으로 커진 것이 WWW(World Wide Web)

## 네트워크의 기초

- 네트워크란 노드와 링크가 서로 연결되어 있으며, 리소스를 공유하는 집합을 의미한다.

### 처리량과 지연 시간

- 처리량은 링크 내에서 성공적으로 전달된 데이터의 양을 말한다.
- 얼만큼의 트래픽을 처리했는지 나타낸다.
- 단위로는 bps를 사용하며, 초당 전송되는 비트 수를 의미한다.
- 대역폭 : 주어진 시간동안 네트워크에서 흐를 수 있는 최대 비트 수
- 지연시간은 요청이 처리되는 시간을 말하며, 어떤 메시지가 두 장치 사이를 왕복하는 데 걸리는 시간을 의미한다.

### 네트워크 토폴로지와 병목 현상

- 네트워크 토폴로지는 노드와 링크를 어떻게 배치하는지에 대한 방식이자 연결 형태
- 트리 토폴로지
    - 계층형 토폴로지, 트리 형태로 배치
- 버스 토폴로지
    - 중앙 통신 회선 하나에 여러 개의 노트를 연결하는 방식
    - 근거리 통신망 (LAN)에서 주로 사용한다
    - 스푸핑이라는 공격으로 송신부 패킷이 다른 호스트에 가게 속일 수도 있다.
- 스타 토폴로지
    - 중앙의 노드에 모두 연결된 네트워크 구성
    - 쉽게 에러를 발견할 수 있고 영향성이 적으나 중앙 노드에 장애가 발생하면 전체 네트워크를 사용할 수 없게 되며 가격도 높다.
- 링형 토폴로지
    - 서로간에 강강술래를 한 듯 연결되어있는 노드
    - 노드에서 노드로 이동하며 고장 발견을 쉽게 찾으나 하나 고장나면 다 고장남
- 메시 토폴로지 (망형 토폴로지)
    - 그물망처럼 모두가 연결되어 있으며, 트래픽 분산 처리도 가능하나 노드 추가가 어렵고 구축 비용과 운용 비용이 고가인 단점이 있다.
- 병목 현상
    - 토폴로지가 중요한 이유는 병목 현상을 찾을 때 중요한 기준이 되기 때문이다.
    - 병목 현상 때문에 지연 시간이 길게 발생하면 대역폭을 크게 설정해도 성능이 개선되지 않고, 토폴로지에 따라 회선을 더 추가해 병목 현상을 해결할 수 있다.

### 네트워크 분류

- LAN (소규모 근거리 통신망)
    - 건물이나 캠퍼스같은 좁은 공간에서 운영되며, 전송 속도가 빠르고 혼잡하지 않다.
- MAN (시 규모의 중거리 통신망)
    - 대도시 지역 네트워크를 나타내며 전송 속도는 평균, LAN보다는 혼잡하다.
- WAN (세계 규모의 대형 통신망)
    - 광역 네트워크를 의미하며 국가, 대륙 운영, 전송 속도는 낮으며 매우 혼잡하다.

## TCP/IP 4계층 모델

- 인터넷 프로토콜 스위트 : 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합이며, 주로 TCP/IP 4계층을 쓰거나 OSI 7계층을 다룬다.

### 계층 구조

- 위에서부터 애플리케이션 계층 - 전송 계층 - 인터넷 계층 - 링크 계층
- OSI 7계층은 밑에서부터 물데네전세표응
- 둘은 서로 영향을 받지 않도록 설계되어있어 프로토콜이 변환되어도 괜찮다.
- 애플리케이션 계층
    - FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층
    - 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공
- 전송 계층
    - 송신자와 수신자를 연결하는 통신 서비스 제공
    - 연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어 제공
    - 애플리케이션과 인터넷 계층 사이의 데이터 전달 중계 역할
    - 대표적으로 TCP와 UDP가 존재
    - **TCP**
        - **신뢰성과 순서가 핵심**
        - 패킷 사이의 순서를 보장하고, 연결지향 프로토콜
        - 신뢰성을 구축하고 수신 여부를 확인한다.
        - 가상회선 패킷 교환 방식 (가상회선 식별자가 각 패킷에 포함, 순서대로 도착)
    - UDP
        - **속도와 효율성이 핵심**
        - 순서를 보장하지 않고, 수신 여부를 확인하지 않으며, 단순 데이터만 주는 방식
        - 데이터그램 패킷 교환 방식 (패킷이 독립적으로 최적의 경로 선택, 순서 미보장)
    - TCP는 신뢰성있는 연결을 할 때 3-웨이 핸드셰이크 작업을 사용한다.
        - SYN → SYN + ACK → ACK
        - 클라이언트와 서버간 통신 시 상태에 따라 위 세 단계를 거치며 신뢰성을 구축하는 것
        - UDP는 3-웨이 핸드셰이크 없음
- 인터넷 계층
    - 네트워크 패킷을 IP 주소로 전송하기 위한 계층
    - IP, ARP, ICMP 등이 있으며, 라우팅 기능이 존재함
- 링크 계층
    - 전선, 무선 등으로 실질적 데이터를 전달하며, 장치간 신호를 주고받는 규칙을 정함
    - 유선 LAN : 전이중화, 반이중화 통신 방식 등이 있음
    - 유선 LAN 케이블 : 트위스트 페어 케이블, 광섬유 케이블
    - 무선 LAN : 반이중화, CSMA/CA 사전 충돌 방지
    - 와이파이, BSS, ESS 등이 존재

## 네트워크 기기

### 네트워크 기기의 처리 범위

- 모든 기기는 하위 계층 처리 가능, 상위는 불가능
- 애플리케이션 계층 : L7 스위치
- 인터넷 계층 : 라우터, L3 스위치
- 데이터 링크 계층 : L2 스위치, 브릿지
- 물리 계층 : NIC, 리피터, AP

### 애플리케이션 계층 기기

- L7 스위치는 로드밸런서라고도 한다.
- 서버의 부하를 분산하는 기기이다.
- IP, 포트 뿐만 아니라 URL, HTTP 헤더, 쿠키 등을 기반으로 트래픽을 분산한다.
- 헬스 체크 기능이 있다.

### 인터넷 계층 기기

- 라우터는 패킷 소모 최소화, 경로 최적화, 최소 경로로 패킷을 포워딩한다.
- L3 스위치는 L2 스위치 기능 + 라우팅 기능인 장비이다.
- L3 스위치를 라우터라고 해도 무방하다.

### 데이터 링크 기기

- L2 스위치는 MAC 주소를 관리하고, 패킷 전송을 담당한다.
- 브릿지는 두 개의 근거리 통신망을 상호 접속 및 연결해준다. 중간 다리 역할이다.

### 물리 계층 기기

- NIC는 랜 카드이며, 컴퓨터 네트워크를 구성하는데 사용한다. 고유의 MAC주소가 있다.
- 리피터는 약한 신호를 증폭해 다른 쪽으로 전달하는 장치이다.
- AP는 패킷을 복사하는 기기이며, 유선 LAN을 다른 장치에서 와이파이로 전달하는 기기이다.

## IP 주소

### ARP

- IP 주소에서 ARP를 통해 MAC 주소를 찾아 MAC 주소를 기반으로 통신한다.
- ARP는 IP로부터 MAC주소를 구하는 번역기이다.
    - 반대는 RARP이다.

### 홉바이홉

- IP 주소 통신 과정을 홉바이홉이라고 한다.
- 여러 서브 네트워크를 타고 가 라우팅 테이블 IP를 기반으로 전달해나가며 최종 목적지까지 간다

### IP 주소 체계

- IPv4는 32비트를 8비트 단위로 점을 찍어 표기
- IPv6는 64비트를 16비트 단위로 콜론을 찍어 표기, 16진수
- A~E클래스까지 쓰며 용도와 길이가 다 다름
    - 0~1 / 1~11 / 11 ~ 111